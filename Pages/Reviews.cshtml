@page
@model WebApp.Pages.ReviewsModel
@{
    ViewData["Title"] = "Recensioni";
}

<link href="~/css/Reviews.css" rel="stylesheet">
<link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">




<div class="container" id="container">

    <div class="row">
        <div class="col-xs-12 col-md-6">
            <div class="well well-sm">
                <div class="row">
                    <div class="col-xs-12 col-md-6 text-center">
                        <h1 class="rating-num">
                            @Html.DisplayFor(model => model.Opera.Voto)
                        </h1>
                        <div class="rating">
                            @for (int i = 0; i < @Model.Opera.Voto; i++)
                            {
                                <span class="glyphicon glyphicon-star"></span>
                            }
                            @for (int i = 0; i < 5 - @Model.Opera.Voto; i++)
                            {
                                <span class="glyphicon glyphicon-star-empty"></span>
                            }
                        </div>
                        <div>
                            <span class="glyphicon glyphicon-user"></span>@Html.DisplayFor(model => model.Opera.NumeroVoti)
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-6">
                        <div class="row rating-desc">
                            <div class="col-xs-3 col-md-3 text-right">
                                <span class="glyphicon glyphicon-star"></span>5
                            </div>
                            <div class="col-xs-8 col-md-9">
                                <div class="progress progress-striped">
                                    <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="@((Model.Opera.TwoStars*100)/Model.Opera.NumeroVoti)"
                                         aria-valuemin="0" aria-valuemax="100" style="width: @((Model.Opera.FiveStars*100)/Model.Opera.NumeroVoti)%">
                                    </div>
                                </div>
                            </div>
                            <!-- end 5 -->
                            <div class="col-xs-3 col-md-3 text-right">
                                <span class="glyphicon glyphicon-star"></span>4
                            </div>
                            <div class="col-xs-8 col-md-9">
                                <div class="progress">
                                    <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="@((Model.Opera.TwoStars*100)/Model.Opera.NumeroVoti)"
                                         aria-valuemin="0" aria-valuemax="100" style="width: @((Model.Opera.FourStars*100)/Model.Opera.NumeroVoti)%">
                                    </div>
                                </div>
                            </div>
                            <!-- end 4 -->
                            <div class="col-xs-3 col-md-3 text-right">
                                <span class="glyphicon glyphicon-star"></span>3
                            </div>
                            <div class="col-xs-8 col-md-9">
                                <div class="progress">
                                    <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="@((Model.Opera.TwoStars*100)/Model.Opera.NumeroVoti)"
                                         aria-valuemin="0" aria-valuemax="100" style="width: @((Model.Opera.ThreeStars*100)/Model.Opera.NumeroVoti)%">
                                    </div>
                                </div>
                            </div>
                            <!-- end 3 -->
                            <div class="col-xs-3 col-md-3 text-right">
                                <span class="glyphicon glyphicon-star"></span>2
                            </div>
                            <div class="col-xs-8 col-md-9">
                                <div class="progress">
                                    <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="@((Model.Opera.TwoStars*100)/Model.Opera.NumeroVoti)"
                                         aria-valuemin="0" aria-valuemax="100" style="width: @((Model.Opera.TwoStars*100)/Model.Opera.NumeroVoti)%">
                                    </div>
                                </div>
                            </div>
                            <!-- end 2 -->
                            <div class="col-xs-3 col-md-3 text-right">
                                <span class="glyphicon glyphicon-star"></span>1
                            </div>
                            <div class="col-xs-8 col-md-9">
                                <div class="progress">
                                    <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="@((Model.Opera.TwoStars*100)/Model.Opera.NumeroVoti)"
                                         aria-valuemin="0" aria-valuemax="100" style="width: @((Model.Opera.OneStars*100)/Model.Opera.NumeroVoti)%">
                                    </div>
                                </div>
                            </div>
                            <!-- end 1 -->
                        </div>
                        <!-- end row -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-12">
            <hr />
            <div class="review-block">
                @foreach (var item in Model.Opera.Recensioni)
                {
                    <div class="row">
                        <div class="col-sm-3">
                            <div class="review-block-name"><a href="#">@item.NomeRecensore</a></div>
                        </div>
                        <div class="col-sm-9">
                            <div class="review-block-rate">
                                @for (int i = 0; i < item.ValoreRecensione; i++)
                                {
                                    <span class="glyphicon glyphicon-star"></span>
                                }
                                @for (int j = 0; j < 5 - item.ValoreRecensione; j++)
                                {
                                    <span class="glyphicon glyphicon-star-empty"></span>
                                }
                            </div>
                            <div class="review-block-title">@item.Titolo</div>
                            <div class="review-block-description">@item.TestoRecensione</div>
                        </div>
                    </div>
                    <hr />
                }
            </div>
        </div>
    </div>

</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<script>window.jQuery || document.write('<script src="assets/js/vendor/jquery.min.js"><\/script>')</script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
